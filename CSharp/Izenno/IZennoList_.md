# –†–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ (IZennoList) –≤ ZennoPoster - –ú–µ—Ç–æ–¥–∏—á–∫–∞

## üî¥ –í–ê–ñ–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø –ò –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### ‚ö†Ô∏è –°–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ
- **–í—Å–µ —Å–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤ ProjectMaker –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞**
- –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å–ø–∏—Å–∫—É –≤—ã–∑–æ–≤–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
- API `IZennoList` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏

### ‚ö†Ô∏è –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–°–ø–∏—Å–∫–∏ –ù–ï —è–≤–ª—è—é—Ç—Å—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `lock()`
- –û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### ‚ö†Ô∏è –°–≤—è–∑—å —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –°–ø–∏—Å–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≤–Ω–µ—à–Ω–∏–º —Ñ–∞–π–ª–∞–º (txt, csv)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª
- –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ `lock()` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —Ñ–∞–π–ª–∞

## üìã –û–°–ù–û–í–ù–´–ï –û–ü–ï–†–ê–¶–ò–ò –°–û –°–ü–ò–°–ö–ê–ú–ò

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
```csharp
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
IZennoList list = project.Lists["MyList"];

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ null
IZennoList emailList = project.Lists["EmailList"];
if (emailList == null) {
    project.SendErrorToLog("–°–ø–∏—Å–æ–∫ EmailList –Ω–µ –Ω–∞–π–¥–µ–Ω", false);
    throw new Exception("–°–ø–∏—Å–æ–∫ EmailList –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```csharp
// –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
IZennoList userList = project.Lists["Users"];
userList.Add("ivan_petrov");

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
userList.Add("maria_sidorova");
userList.Add("alex_kozlov");
userList.Add("elena_volkova");

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥—É–±–ª–µ–π - –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Å–µ–º—É —Å–ø–∏—Å–∫—É
string newUser = "new_user_123";
if (!userList.Contains(newUser)) {
    userList.Add(newUser);
} else {
    project.SendInfoToLog($"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {newUser} —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç", false);
}

// –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
string userId = "12345";
string email = "user@example.com";
string phone = "+1234567890";
string userData = $"{userId}|{email}|{phone}";
userList.Add(userData);
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```csharp
IZennoList dataList = project.Lists["DataList"];

// –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É
if (dataList.Count > 0) {
    string firstItem = dataList[0];
    string lastItem = dataList[dataList.Count - 1];
    
    project.SendInfoToLog($"–ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: {firstItem}", false);
    project.SendInfoToLog($"–ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç: {lastItem}", false);
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
int index = 5;
if (index >= 0 && index < dataList.Count) {
    string item = dataList[index];
    project.SendInfoToLog($"–≠–ª–µ–º–µ–Ω—Ç [{index}]: {item}", false);
} else {
    project.SendWarningToLog($"–ò–Ω–¥–µ–∫—Å {index} –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞ (—Ä–∞–∑–º–µ—Ä: {dataList.Count})", false);
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
if (dataList.Count > 0) {
    int randomIndex = Global.Classes.rnd.Next(0, dataList.Count);
    string randomItem = dataList[randomIndex];
    project.SendInfoToLog($"–°–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç: {randomItem}", false);
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```csharp
IZennoList processingList = project.Lists["ProcessingList"];

// –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É - –±—ã—Å—Ç—Ä–µ–µ
if (processingList.Count > 0) {
    processingList.RemoveAt(0);  // –£–¥–∞–ª—è–µ–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
}

// –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
if (processingList.Count > 0) {
    processingList.RemoveAt(processingList.Count - 1);
}

// –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é - –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ –ø–æ–∏—Å–∫–∞
string itemToRemove = "completed_task_123";
if (processingList.Contains(itemToRemove)) {
    processingList.Remove(itemToRemove);
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∫–æ–Ω—Ü–∞
int itemsToRemove = 5;
for (int i = 0; i < itemsToRemove && processingList.Count > 0; i++) {
    processingList.RemoveAt(processingList.Count - 1);
}
```

### –û—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞
```csharp
// –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞
IZennoList tempList = project.Lists["TempData"];
tempList.Clear();

project.SendInfoToLog($"–°–ø–∏—Å–æ–∫ –æ—á–∏—â–µ–Ω. –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: {tempList.Count}", false);
```

## üîí –ü–û–¢–û–ö–û–ë–ï–ó–û–ü–ê–°–ù–ê–Ø –†–ê–ë–û–¢–ê –°–û –°–ü–ò–°–ö–ê–ú–ò

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```csharp
// –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è —É–¥–µ—Ä–∂–∞–Ω–∏—è
IZennoList sharedList = project.Lists["SharedResults"];
string newResult = "processing_result_data";

lock (sharedList) {
    sharedList.Add(newResult);
}

// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –¥–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ lock –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥–∏–µ –ø–æ—Ç–æ–∫–∏
lock (sharedList) {
    Thread.Sleep(5000); // ‚ùå –ü–ª–æ—Ö–æ - –±–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
    sharedList.Add("data");
}

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤–Ω–µ lock
string processedData = ProcessData(); // –î–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
lock (sharedList) {
    sharedList.Add(processedData); // ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
}
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞
```csharp
IZennoList taskQueue = project.Lists["TaskQueue"];
string currentTask = "";

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
lock (taskQueue) {
    if (taskQueue.Count > 0) {
        currentTask = taskQueue[0];
        taskQueue.RemoveAt(0);
    }
}

if (!string.IsNullOrEmpty(currentTask)) {
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–¥–∞—á—É –≤–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    ProcessTask(currentTask);
}
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–∞
```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–∏ –¥–ª—è –¥–æ–ª–≥–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ - –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –±—ã—Å—Ç—Ä–æ
IZennoList sourceList = project.Lists["SourceData"];
string[] localCopy;

lock (sourceList) {
    localCopy = new string[sourceList.Count];
    for (int i = 0; i < sourceList.Count; i++) {
        localCopy[i] = sourceList[i];
    }
}

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–ø–∏—é –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
foreach (string item in localCopy) {
    ProcessItem(item);
}
```

## üìä –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –°–¶–ï–ù–ê–†–ò–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (–æ–±—ã—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏ - –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã)
```csharp
IZennoList highPriorityTasks = project.Lists["HighPriority"];
IZennoList normalTasks = project.Lists["NormalTasks"];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á - lock() –Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤
void AddTask(string task, bool highPriority = false) {
    if (highPriority) {
        highPriorityTasks.Add(task); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ –±–µ–∑ lock()
    } else {
        normalTasks.Add(task); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ –±–µ–∑ lock()
    }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π –∑–∞–¥–∞—á–∏
string GetNextTask() {
    // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏
    if (highPriorityTasks.Count > 0) {
        string task = highPriorityTasks[0];
        highPriorityTasks.RemoveAt(0); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
        return task;
    }
    
    // –ó–∞—Ç–µ–º –æ–±—ã—á–Ω—ã–µ –∑–∞–¥–∞—á–∏
    if (normalTasks.Count > 0) {
        string task = normalTasks[0];
        normalTasks.RemoveAt(0); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
        return task;
    }
    
    return "";
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
AddTask("urgent_user_request", true);
AddTask("routine_cleanup", false);

string nextTask = GetNextTask();
if (!string.IsNullOrEmpty(nextTask)) {
    project.SendInfoToLog($"–í—ã–ø–æ–ª–Ω—è—é –∑–∞–¥–∞—á—É: {nextTask}", false);
}
```

### –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π (–æ–±—ã—á–Ω—ã–π —Å–ø–∏—Å–æ–∫)
```csharp
IZennoList actionLog = project.Lists["ActionLog"];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ª–æ–≥ - lock() –Ω–µ –Ω—É–∂–µ–Ω
void LogAction(string action, string result = "success") {
    string logEntry = $"{DateTime.Now:yyyy-MM-dd HH:mm:ss}|{action}|{result}";
    
    actionLog.Add(logEntry); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –ª–æ–≥–∞ - —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏
    if (actionLog.Count > 1000) {
        actionLog.RemoveAt(0); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
LogAction("Login attempt", "success");
LogAction("Data processing", "completed");
LogAction("File upload", "failed");

// –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–µ
void CheckForErrors() {
    int errorCount = 0;
    
    // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Å–ø–∏—Å–∫—É –Ω–∞–ø—Ä—è–º—É—é - —á—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    for (int i = 0; i < actionLog.Count; i++) {
        string entry = actionLog[i];
        if (entry.Contains("|failed") || entry.Contains("|error")) {
            errorCount++;
        }
    }
    
    project.SendInfoToLog($"–ù–∞–π–¥–µ–Ω–æ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–µ: {errorCount}", false);
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –ø—Ä–æ–∫—Å–∏ (—Ñ–∞–π–ª–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ - –Ω—É–∂–µ–Ω lock)
```csharp
IZennoList availableProxies = project.Lists["AvailableProxies"]; // –ü—Ä–∏–≤—è–∑–∞–Ω –∫ —Ñ–∞–π–ª—É
IZennoList failedProxies = project.Lists["FailedProxies"];       // –û–±—ã—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ–∫—Å–∏ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞
string GetWorkingProxy() {
    string proxy = "";
    
    // –§–∞–π–ª–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ - –Ω—É–∂–µ–Ω lock()
    lock (availableProxies) {
        if (availableProxies.Count > 0) {
            proxy = availableProxies[0];
            availableProxies.RemoveAt(0);
        }
    }
    
    return proxy;
}

// –í–æ–∑–≤—Ä–∞—Ç –ø—Ä–æ–∫—Å–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –ø—É–ª –∏–ª–∏ –≤ —Å–ø–∏—Å–æ–∫ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö
void ReturnProxy(string proxy, bool isWorking) {
    if (isWorking) {
        // –§–∞–π–ª–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ - –Ω—É–∂–µ–Ω lock()
        lock (availableProxies) {
            availableProxies.Add(proxy);
        }
    } else {
        // –û–±—ã—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ - lock() –Ω–µ –Ω—É–∂–µ–Ω
        if (!failedProxies.Contains(proxy)) { // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–µ–π - –º–µ–¥–ª–µ–Ω–Ω–µ–µ
            failedProxies.Add(proxy);
        }
    }
}
```

### –°–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–æ–±—ã—á–Ω—ã–µ —Å–ø–∏—Å–∫–∏)
```csharp
IZennoList collectedData = project.Lists["CollectedData"];
IZennoList processedBatch = project.Lists["ProcessedBatch"];

// –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö - lock() –Ω–µ –Ω—É–∂–µ–Ω
void CollectData(string data) {
    collectedData.Add(data); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    
    // –ï—Å–ª–∏ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –±–∞—Ç—á
    if (collectedData.Count >= 100) {
        ProcessBatch();
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞
void ProcessBatch() {
    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –±–∞—Ç—á
    processedBatch.Clear(); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    
    // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
    for (int i = 0; i < collectedData.Count; i++) {
        processedBatch.Add(collectedData[i]); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    }
    collectedData.Clear(); // ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    
    project.SendInfoToLog($"–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –±–∞—Ç—á –∏–∑ {processedBatch.Count} —ç–ª–µ–º–µ–Ω—Ç–æ–≤", false);
    
    SaveBatchToFile();
}

void SaveBatchToFile() {
    string fileName = $"batch_{DateTime.Now:yyyyMMdd_HHmmss}.txt";
    string filePath = Path.Combine(project.Directory, fileName);
    
    // –ö–æ–ø–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –±–∞—Ç—á–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    string[] batchData = new string[processedBatch.Count];
    for (int i = 0; i < processedBatch.Count; i++) {
        batchData[i] = processedBatch[i]; // ‚úÖ –ß—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
    File.WriteAllLines(filePath, batchData);
    project.SendInfoToLog($"–ë–∞—Ç—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ —Ñ–∞–π–ª: {fileName}", false);
}
```

## üîÑ –†–ê–ë–û–¢–ê –° –°–û–°–¢–ê–í–ù–´–ú–ò –î–ê–ù–ù–´–ú–ò –í –°–ü–ò–°–ö–ê–•

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```csharp
IZennoList userProfiles = project.Lists["UserProfiles"];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
void AddUserProfile(string userId, string email, string name, string status) {
    string profile = $"{userId}|{email}|{name}|{status}|{DateTime.Now:yyyy-MM-dd}";
    
    lock (userProfiles) {
        userProfiles.Add(profile);
    }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ—Ñ–∏–ª—è
class UserProfile {
    public string UserId;
    public string Email;
    public string Name;
    public string Status;
    public string CreatedDate;
}

UserProfile GetUserProfile(int index) {
    string profileData = "";
    
    lock (userProfiles) {
        if (index >= 0 && index < userProfiles.Count) {
            profileData = userProfiles[index];
        }
    }
    
    if (string.IsNullOrEmpty(profileData)) {
        return null;
    }
    
    string[] parts = profileData.Split('|');
    if (parts.Length >= 5) {
        return new UserProfile {
            UserId = parts[0],
            Email = parts[1],
            Name = parts[2],
            Status = parts[3],
            CreatedDate = parts[4]
        };
    }
    
    return null