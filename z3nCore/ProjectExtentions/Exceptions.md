## TracedException

Специализированный класс исключения, который автоматически собирает информацию о месте возникновения ошибки и вызывающем методе для упрощения отладки.

### Конструкторы

#### TracedException(Exception, string)

Создает новое исключение с трассировкой на основе исходного исключения.

**Параметры:**
- `innerException` *(Exception)* - Исходное исключение, которое нужно обернуть
- `caller` *(string, необязательный)* - Имя вызывающего метода

```csharp
try 
{
    // какой-то код, который может выдать ошибку
    var result = SomeMethod();
}
catch (Exception ex)
{
    //создать трассируемое исключение
    var tracedException = new TracedException(ex, "MyMethod");
    throw tracedException;
}
```

## ExceptionExtensions

Набор методов расширения для работы с исключениями, позволяющий легко логировать и выбрасывать ошибки с трассировкой.

### Методы

#### Throw(Exception, IZennoPosterProjectModel, string, bool)

**Возвращаемое значение:** `string` - Сообщение об ошибке

Обрабатывает исключение: логирует его и либо выбрасывает, либо возвращает сообщение об ошибке.

**Параметры:**
- `ex` *(Exception)* - Исключение для обработки
- `project` *(IZennoPosterProjectModel)* - Объект проекта для логирования
- `caller` *(string, необязательный)* - Имя вызывающего метода (заполняется автоматически)
- `throwEx` *(bool, по умолчанию true)* - Выбрасывать ли исключение после логирования

```csharp
try 
{
    // код, который может выдать ошибку
    DoSomething();
}
catch (Exception ex)
{
    //логировать и выбросить исключение
    ex.Throw(project);
}

//или только залогировать без выброса исключения
try 
{
    DoSomething();
}
catch (Exception ex)
{
    //получить сообщение об ошибке без выброса исключения
    string errorMessage = ex.Throw(project, throwEx: false);
    project.SendInfoToLog("Ошибка обработана: " + errorMessage);
}
```

#### Throw(Exception, string)

**Возвращаемое значение:** `Exception` - Трассируемое исключение

Создает и выбрасывает трассируемое исключение на основе исходного.

**Параметры:**
- `ex` *(Exception)* - Исключение для обработки
- `caller` *(string, необязательный)* - Имя вызывающего метода (заполняется автоматически)

```csharp
try 
{
    // код, который может выдать ошибку
    DoSomething();
}
catch (Exception ex)
{
    //создать и выбросить трассируемое исключение
    ex.Throw();
}
```

#### Throw(IZennoPosterProjectModel, string, string)

**Возвращаемое значение:** `Exception` - Трассируемое исключение

Создает и выбрасывает новое исключение с указанным сообщением, логируя информацию о последнем выполненном действии.

**Параметры:**
- `project` *(IZennoPosterProjectModel)* - Объект проекта
- `exMessage` *(string, необязательный)* - Сообщение об ошибке
- `caller` *(string, необязательный)* - Имя вызывающего метода (заполняется автоматически)

```csharp
//проверить условие и выбросить ошибку при необходимости
if (someCondition)
{
    project.Throw("Критическая ошибка: условие не выполнено");
}
```

#### Throw(IZennoPosterProjectModel, Exception, string)

**Возвращаемое значение:** `Exception` - Трассируемое исключение

Обрабатывает существующее исключение, логирует его с информацией о последнем действии и выбрасывает трассируемую версию.

**Параметры:**
- `project` *(IZennoPosterProjectModel)* - Объект проекта
- `ex` *(Exception)* - Исключение для обработки
- `caller` *(string, необязательный)* - Имя вызывающего метода (заполняется автоматически)

```csharp
try 
{
    // код, который может выдать ошибку
    DoSomething();
}
catch (Exception ex)
{
    //обработать и выбросить с логированием контекста проекта
    project.Throw(ex);
}
```