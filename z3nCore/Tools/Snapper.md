# GHsync

Класс для автоматической синхронизации локальных папок с репозиториями GitHub. Позволяет массово коммитить и пушить изменения в несколько проектов одновременно, с проверкой размеров файлов и автоматическим созданием .gitignore.

## Конструкторы

### GHsync(IZennoPosterProjectModel project)

Создает новый экземпляр класса для синхронизации с GitHub.

**Параметры:**
- `project` - экземпляр проекта ZennoPoster для логирования

**Пример использования:**
```csharp
var ghSync = new GHsync(project);
//создаем экземпляр для работы с GitHub
```

## Публичные методы

### GetFileHash(string filePath) : string

Вычисляет MD5-хеш файла для проверки изменений.

**Возвращает:** MD5-хеш файла в виде строки или пустую строку при ошибке

**Параметры:**
- `filePath` - полный путь к файлу

**Пример использования:**
```csharp
string hash = GHsync.GetFileHash(@"C:\myproject\file.txt");
project.SendInfoToLog($"Hash файла: {hash}");
//получаем хеш файла для проверки изменений
```

### Main(string baseDir, string token, string username, string commmit = "ts")

Основной метод для синхронизации всех проектов из базовой директории с GitHub репозиториями.

**Параметры:**
- `baseDir` - базовая директория, содержащая папки проектов
- `token` - GitHub Personal Access Token (должен начинаться с "ghp_")
- `username` - имя пользователя GitHub
- `commmit` - текст коммита (по умолчанию "ts" - будет заменен на текущее время)

**Пример использования:**
```csharp
var ghSync = new GHsync(project);
//создаем экземпляр синхронизации

ghSync.Main(@"C:\MyProjects", "ghp_your_token_here", "yourusername", "Обновление проектов");
//синхронизируем все проекты из папки
```

**Особенности работы:**
- Читает конфигурацию из файла `.sync.txt` в базовой директории
- Пропускает папки помеченные как `false` в конфигурации
- Проверяет размеры файлов и репозиториев (максимум 100MB на файл, 1GB на репозиторий)
- Исключает бинарные файлы и медиа-контент
- Автоматически создает и обновляет `.gitignore`
- Выводит подробную статистику по завершению