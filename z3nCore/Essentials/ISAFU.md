# SAFU (Simple Authentication and Functional Utilities)

SAFU - это утилитарный класс для шифрования и дешифрования данных с привязкой к аппаратным характеристикам системы. Класс предоставляет простые методы для безопасного хранения конфиденциальной информации в проектах ZennoPoster с использованием AES-шифрования и аппаратного ключа на основе серийного номера материнской платы.

## Публичные методы

### Initialize
**Возвращаемое значение:** `void`

**Описание:** Инициализирует систему SAFU, регистрируя функции шифрования в глобальном хранилище. Метод автоматически определяет доступные реализации и использует базовую версию SimpleSAFU по умолчанию.

**Параметры:**
- `project` (IZennoPosterProjectModel) - экземпляр проекта ZennoPoster

**Пример использования:**
```csharp
//инициализация SAFU перед использованием
SAFU.Initialize(project);
```

### Encode
**Возвращаемое значение:** `string`

**Описание:** Шифрует переданную строку с использованием PIN-кода из переменной проекта cfgPin. Если PIN-код не задан, возвращает исходную строку без изменений.

**Параметры:**
- `project` (IZennoPosterProjectModel) - экземпляр проекта ZennoPoster
- `toEncrypt` (string) - строка для шифрования
- `log` (bool, необязательный) - флаг логирования (по умолчанию false)

**Пример использования:**
```csharp
//шифрование пароля
string password = "mySecretPassword";
string encryptedPassword = SAFU.Encode(project, password);
project.SendInfoToLog($"Пароль зашифрован: {encryptedPassword}");
```

### Decode
**Возвращаемое значение:** `string`

**Описание:** Расшифровывает переданную строку с использованием PIN-кода из переменной проекта cfgPin. Если PIN-код не задан, возвращает исходную строку. В случае ошибки расшифровки отправляет предупреждение в лог.

**Параметры:**
- `project` (IZennoPosterProjectModel) - экземпляр проекта ZennoPoster
- `toDecrypt` (string) - строка для расшифровки
- `log` (bool, необязательный) - флаг логирования (по умолчанию false)

**Пример использования:**
```csharp
//расшифровка пароля
string encryptedPassword = "зашифрованная_строка";
string originalPassword = SAFU.Decode(project, encryptedPassword);
project.SendInfoToLog($"Пароль расшифрован: {originalPassword}");
```

### HWPass
**Возвращаемое значение:** `string`

**Описание:** Генерирует аппаратный пароль на основе серийного номера материнской платы и значения переменной acc0. Используется для создания уникального ключа, привязанного к конкретному компьютеру.

**Параметры:**
- `project` (IZennoPosterProjectModel) - экземпляр проекта ZennoPoster
- `log` (bool, необязательный) - флаг логирования (по умолчанию false)

**Пример использования:**
```csharp
//получение аппаратного пароля
string hardwarePassword = SAFU.HWPass(project);
project.SendInfoToLog($"Аппаратный пароль: {hardwarePassword}");
```